# Lab6 - –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

## ‚úÖ –ß–¢–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

### 1. –ù–∞—Å—Ç–æ—è—â–µ–µ RFCOMM –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
**–§–∞–π–ª—ã:** `bluetoothconnection.h/cpp`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Winsock2 –¥–ª—è Bluetooth
- –°–æ–∑–¥–∞–Ω–∏–µ AF_BTH —Å–æ–∫–µ—Ç–∞ (Bluetooth Socket)
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ RFCOMM –ø—Ä–æ—Ç–æ–∫–æ–ª (Serial Port Profile)
- –ü–∞—Ä—Å–∏–Ω–≥ MAC –∞–¥—Ä–µ—Å–∞
- –û—Ç–ø—Ä–∞–≤–∫–∞/–ø—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ —Å–æ–∫–µ—Ç
- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫–∞

**API:**
```cpp
WSAStartup()                    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Winsock
socket(AF_BTH, SOCK_STREAM, BTHPROTO_RFCOMM)  // –°–æ–∑–¥–∞–Ω–∏–µ Bluetooth —Å–æ–∫–µ—Ç–∞
connect()                       // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É  
send()                          // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
recv()                          // –ü—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
closesocket()                   // –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
WSACleanup()                    // –û—á–∏—Å—Ç–∫–∞
```

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –ö–∞–∂–¥—ã–π API –≤—ã–∑–æ–≤ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –ö–æ–¥—ã –æ—à–∏–±–æ–∫ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞—é—Ç—Å—è

---

### 2. –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ fsquirt
**–§–∞–π–ª—ã:** `bluetoothfilesender.h/cpp`

**–ú–µ—Ç–æ–¥ 1: fsquirt.exe**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç Windows Bluetooth File Transfer Wizard
- –ü–µ—Ä–µ–¥–∞–µ—Ç –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –õ–Æ–ë–´–• —É—Å—Ç—Ä–æ–π—Å—Ç–≤

**–ú–µ—Ç–æ–¥ 2: Windows Shell**
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ü—Ä–æ–≤–æ–¥–Ω–∏–∫ —Å —Ñ–∞–π–ª–æ–º
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –û—à–∏–±–∫–∏

---

### 3. –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (5 —Ñ–∞–π–ª–æ–≤!)
**–§–∞–π–ª—ã:** `bluetoothlogger.h/cpp`

**–°–æ–∑–¥–∞–µ—Ç—Å—è 5 —Ñ–∞–π–ª–æ–≤ –≤ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏:**

```
Session_<–¥–∞—Ç–∞_–≤—Ä–µ–º—è>/
‚îú‚îÄ‚îÄ main.log        - –í–°–ï –ª–æ–≥–∏
‚îú‚îÄ‚îÄ scan.log        - –¢–æ–ª—å–∫–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ connect.log     - –¢–æ–ª—å–∫–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ send.log        - –¢–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤
‚îî‚îÄ‚îÄ api_calls.log   - –¢–æ–ª—å–∫–æ Windows API –≤—ã–∑–æ–≤—ã
```

**–ö–∞–∂–¥—ã–π –ª–æ–≥ –≤–∫–ª—é—á–∞–µ—Ç:**
- –í—Ä–µ–º–µ–Ω–Ω—É—é –º–µ—Ç–∫—É —Å –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞–º–∏
- –£—Ä–æ–≤–µ–Ω—å (DEBUG, INFO, WARNING, ERROR, SUCCESS)
- –ö–∞—Ç–µ–≥–æ—Ä–∏—é
- –°–æ–æ–±—â–µ–Ω–∏–µ

**–õ–æ–≥–∏—Ä—É–µ—Ç—Å—è:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Winsock
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–∫–µ—Ç–∞
- –ü–∞—Ä—Å–∏–Ω–≥ MAC –∞–¥—Ä–µ—Å–∞
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- –û—à–∏–±–∫–∏ —Å –∫–æ–¥–∞–º–∏
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã API –≤—ã–∑–æ–≤–æ–≤

---

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
**–§–∞–π–ª—ã:** `windowsbluetoothmanager.h/cpp`

- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `BluetoothFindFirstDevice`
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –°—Ç–∞—Ç—É—Å—ã (–ø–æ–¥–∫–ª—é—á–µ–Ω–æ/—Å–æ–ø—Ä—è–∂–µ–Ω–æ/–∑–∞–ø–æ–º–Ω–µ–Ω–æ)

---

### 5. UI —Å –∫–Ω–æ–ø–∫–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ö–Ω–æ–ø–∫–∏:**
- **–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å** - –ø–æ–∏—Å–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **–ü–æ–¥–∫–ª—é—á–∏—Ç—å** - RFCOMM –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É
- **–û—Ç–∫–ª—é—á–∏—Ç—å** - –∑–∞–∫—Ä—ã—Ç–∏–µ RFCOMM —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ fsquirt
- **–û–±–Ω–æ–≤–∏—Ç—å –∞–¥–∞–ø—Ç–µ—Ä** - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥** - –æ—á–∏—Å—Ç–∫–∞ UI –ª–æ–≥–∞

**–°–æ—Å—Ç–æ—è–Ω–∏—è:**
- –ö–Ω–æ–ø–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è/–¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é
- "–ü–æ–¥–∫–ª—é—á–∏—Ç—å" –¥–æ—Å—Ç—É–ø–Ω–∞ –µ—Å–ª–∏ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ
- "–û—Ç–∫–ª—é—á–∏—Ç—å" –¥–æ—Å—Ç—É–ø–Ω–∞ –µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ
- "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª" –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ RFCOMM)

---

## üìä –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û—Ç–ø—Ä–∞–≤–∫–∞ –ë–ï–ó –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (—á–µ—Ä–µ–∑ fsquirt)

1. –í—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
2. –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª
4. –û—Ç–∫—Ä–æ–µ—Ç—Å—è Windows –º–∞—Å—Ç–µ—Ä
5. –í—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ –º–∞—Å—Ç–µ—Ä–µ
6. –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –ø—Ä–∏–º–∏—Ç–µ —Ñ–∞–π–ª
7. ‚úì –§–∞–π–ª –ø–µ—Ä–µ–¥–∞–Ω!

**–õ–æ–≥–∏:**
- `send.log` - –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–∫–∏
- `api_calls.log` - CreateProcess(fsquirt.exe)
- `main.log` - –≤—Å—ë –≤–º–µ—Å—Ç–µ

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ RFCOMM + –æ—Ç–ø—Ä–∞–≤–∫–∞

1. –í—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
2. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å"
3. –ñ–¥–∏—Ç–µ 5-30 —Å–µ–∫—É–Ω–¥
4. –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ - –∫–Ω–æ–ø–∫–∞ "–û—Ç–∫–ª—é—á–∏—Ç—å" –∞–∫—Ç–∏–≤–Ω–∞
5. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é

**–õ–æ–≥–∏:**
- `connect.log` - –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `api_calls.log` - –≤—Å–µ API –≤—ã–∑–æ–≤—ã:
  - WSAStartup
  - socket()
  - connect()
  - send()
  - recv()
  - closesocket()
  - WSACleanup
- `main.log` - –≤—Å—ë –≤–º–µ—Å—Ç–µ

---

## üîç –î–µ—Ç–∞–ª—å–Ω–æ—Å—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### –í connect.log –±—É–¥–µ—Ç:

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –ö BLUETOOTH –£–°–¢–†–û–ô–°–¢–í–£
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: Dc.Stone
MAC: F8:6B:FA:2D:7C:FA

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø WINSOCK
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
[DEBUG] API CALL: WSAStartup(MAKEWORD(2,2))
[SUCCESS] API RESULT: WSAStartup ‚Üí SUCCESS
[SUCCESS] ‚úì Winsock –≤–µ—Ä—Å–∏—è: 2.2

–®–ê–ì 1: –°–æ–∑–¥–∞–Ω–∏–µ Bluetooth —Å–æ–∫–µ—Ç–∞
[DEBUG] API CALL: socket(AF_BTH, SOCK_STREAM, BTHPROTO_RFCOMM)
[SUCCESS] API RESULT: socket ‚Üí SUCCESS - Socket Handle = 0x...
[SUCCESS] ‚úì Bluetooth —Å–æ–∫–µ—Ç —Å–æ–∑–¥–∞–Ω
[DEBUG] Socket handle: 0x...

–®–ê–ì 2: –ü–∞—Ä—Å–∏–Ω–≥ MAC –∞–¥—Ä–µ—Å–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
[DEBUG] –ü–∞—Ä—Å–∏–Ω–≥ MAC –∞–¥—Ä–µ—Å–∞: F8:6B:FA:2D:7C:FA
[SUCCESS] ‚úì MAC –∞–¥—Ä–µ—Å —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω
[DEBUG] –ë–∞–π—Ç—ã: F8 6B FA 2D 7C FA

–®–ê–ì 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
[DEBUG] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
[DEBUG]   ‚Ä¢ addressFamily: AF_BTH
[DEBUG]   ‚Ä¢ btAddr: 0x...
[DEBUG]   ‚Ä¢ serviceClassId: RFCOMM_PROTOCOL_UUID
[DEBUG]   ‚Ä¢ port: BT_PORT_ANY (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

–®–ê–ì 4: –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
[WARNING] ‚è± –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 5-30 —Å–µ–∫—É–Ω–¥...
[DEBUG] API CALL: connect(socket=0x..., addr=F8:6B:FA:2D:7C:FA)

[–ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ:]
[SUCCESS] API RESULT: connect ‚Üí SUCCESS - –ü–æ–¥–∫–ª—é—á–µ–Ω–æ!
[SUCCESS] ‚úì‚úì‚úì –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –£–°–ü–ï–®–ù–û! ‚úì‚úì‚úì
[SUCCESS] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å: Dc.Stone
[SUCCESS] –ê–¥—Ä–µ—Å: F8:6B:FA:2D:7C:FA
[SUCCESS] –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ!

[–ï—Å–ª–∏ –æ—à–∏–±–∫–∞:]
[ERROR] API RESULT: connect ‚Üí FAILED - WSAECONNREFUSED (10061): –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ
[ERROR] ‚úó –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –ù–ï –£–î–ê–õ–û–°–¨
[ERROR] –û—à–∏–±–∫–∞: WSAECONNREFUSED (10061): –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ

–í–û–ó–ú–û–ñ–ù–´–ï –ü–†–ò–ß–ò–ù–´:
1. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Serial Port Profile (SPP)
2. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –≤ —Ä–µ–∂–∏–º–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è
3. Bluetooth –≤—ã–∫–ª—é—á–µ–Ω –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
4. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ—Ç–∫–ª–æ–Ω–∏–ª–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
5. –¢–∞–π–º–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

---

### –í api_calls.log –±—É–¥–µ—Ç:

```
[21:52:30.123] [DEBUG] [WinAPI] API CALL: WSAStartup(MAKEWORD(2,2))
[21:52:30.125] [SUCCESS] [WinAPI] API RESULT: WSAStartup ‚Üí SUCCESS
[21:52:30.126] [DEBUG] [WinAPI] API CALL: socket(AF_BTH, SOCK_STREAM, BTHPROTO_RFCOMM)
[21:52:30.128] [SUCCESS] [WinAPI] API RESULT: socket ‚Üí SUCCESS - Socket Handle = 0x00000124
[21:52:30.130] [DEBUG] [WinAPI] API CALL: connect(socket=0x124, addr=F8:6B:FA:2D:7C:FA)
[21:52:35.456] [ERROR] [WinAPI] API RESULT: connect ‚Üí FAILED - WSAECONNREFUSED
```

---

### –í send.log –±—É–¥–µ—Ç:

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–û–¢–ü–†–ê–í–ö–ê –§–ê–ô–õ–ê –ù–ê BLUETOOTH –£–°–¢–†–û–ô–°–¢–í–û
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–¶–µ–ª–µ–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: Dc.Stone
MAC –∞–¥—Ä–µ—Å: F8:6B:FA:2D:7C:FA
[DEBUG] –ü–æ–¥–∫–ª—é—á–µ–Ω–æ: –ù–ï–¢
[DEBUG] –°–æ–ø—Ä—è–∂–µ–Ω–æ: –î–ê

[SUCCESS] ‚úì –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–æ–ø—Ä—è–∂–µ–Ω–æ
–û—Ç–∫—Ä—ã—Ç–∏–µ –¥–∏–∞–ª–æ–≥–∞ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞...
[SUCCESS] ‚úì –í—ã–±—Ä–∞–Ω —Ñ–∞–π–ª: music.mp3
[DEBUG] –ü–æ–ª–Ω—ã–π –ø—É—Ç—å: C:/Users/.../music.mp3
[DEBUG] –†–∞–∑–º–µ—Ä: 5742763 –±–∞–π—Ç (5.48 MB)

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ó–ê–ü–£–°–ö –û–¢–ü–†–ê–í–ö–ò –ß–ï–†–ï–ó WINDOWS API
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ú–µ—Ç–æ–¥: fsquirt.exe (Windows Bluetooth File Transfer)

[DEBUG] API CALL: CreateProcess(fsquirt.exe)
[DEBUG] –ö–æ–º–∞–Ω–¥–∞: fsquirt.exe /send "C:\Users\...\music.mp3"
[DEBUG] –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞...
[SUCCESS] API RESULT: CreateProcess ‚Üí SUCCESS - fsquirt –∑–∞–ø—É—â–µ–Ω
[SUCCESS] ‚úì –ú–∞—Å—Ç–µ—Ä –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–∞–π–ª–æ–≤ –∑–∞–ø—É—â–µ–Ω!
```

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ fsquirt (–ø—Ä–æ—â–µ, –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç)

1. –í—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
2. –ù–∞–∂–º–∏—Ç–µ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª"
3. –í –º–∞—Å—Ç–µ—Ä–µ –≤—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
4. –§–∞–π–ª –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è

**–õ–æ–≥–∏:** `send.log`, `api_calls.log`

---

### –í–∞—Ä–∏–∞–Ω—Ç –ë: RFCOMM –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ + –ø—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞

1. –í—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
2. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å"
3. –ñ–¥–∏—Ç–µ (5-30 —Å–µ–∫)
4. –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ - –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é

**–õ–æ–≥–∏:** `connect.log`, `api_calls.log`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ú–Ω–æ–≥–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–æ—Å–æ–±–µ–Ω–Ω–æ —Ç–µ–ª–µ—Ñ–æ–Ω—ã) –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤—Ö–æ–¥—è—â–∏–µ RFCOMM –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç –ê.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

```
Lab6_BluetoothLogs/
‚îî‚îÄ‚îÄ Session_20251014_215251/
    ‚îú‚îÄ‚îÄ main.log        ‚Üê –í–°–ï –ª–æ–≥–∏
    ‚îú‚îÄ‚îÄ scan.log        ‚Üê –¢–æ–ª—å–∫–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
    ‚îú‚îÄ‚îÄ connect.log     ‚Üê –¢–æ–ª—å–∫–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (RFCOMM)
    ‚îú‚îÄ‚îÄ send.log        ‚Üê –¢–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤
    ‚îî‚îÄ‚îÄ api_calls.log   ‚Üê –¢–æ–ª—å–∫–æ Windows API –≤—ã–∑–æ–≤—ã
```

---

## üîß –°–±–æ—Ä–∫–∞

```bash
cd C:\QT_projects\IIvuim
qmake IIvuim.pro
mingw32-make
```

–ò–ª–∏ –≤ Qt Creator: `Build ‚Üí Rebuild All`

---

## üéØ –ò—Ç–æ–≥–æ

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ RFCOMM –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–Ω–∞—Å—Ç–æ—è—â–µ–µ!)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ (—á–µ—Ä–µ–∑ fsquirt - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞)
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (5 —Ñ–∞–π–ª–æ–≤!)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ API –≤—ã–∑–æ–≤–∞
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ –ü–æ–ª–Ω–∞—è UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚ùå –ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ)
- ‚ùå OBEX –ø—Ä–æ—Ç–æ–∫–æ–ª –Ω–∞–ø—Ä—è–º—É—é (—Å–ª–æ–∂–Ω–æ, fsquirt –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∑–∞ –Ω–∞—Å)

### –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –õ–†?
**‚úÖ –î–ê!** –ë–∞–∑–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ + –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã.

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

**RFCOMM –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ù–ï —Ä–∞–±–æ—Ç–∞—Ç—å** —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞–º–∏), —Ç.–∫. –æ–Ω–∏ –Ω–µ –æ–∂–∏–¥–∞—é—Ç –≤—Ö–æ–¥—è—â–∏—Ö SPP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∫—É —á–µ—Ä–µ–∑ fsquirt.

**–õ–æ–≥–∏ –ø–æ–∫–∞–∂—É—Ç –ü–û–ß–ï–ú–£** –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è:
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç SPP
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ—Ç–∫–ª–æ–Ω–∏–ª–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –¢–∞–π–º–∞—É—Ç

–í—Å—ë —ç—Ç–æ –±—É–¥–µ—Ç –≤ `connect.log` —Å –¥–µ—Ç–∞–ª—è–º–∏!


